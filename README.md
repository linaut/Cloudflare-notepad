# Cloudflare Workers è®°äº‹æœ¬

ğŸ“’ ç®€å•ç¬”è®°æœ¬ï¼Œæ”¯æŒå¤šè¯­è¨€æ–‡ä»¶åã€ç§»åŠ¨ç«¯é€‚é…å’Œè‡ªåŠ¨/æ‰‹åŠ¨ä¿å­˜
ä¸€ä¸ªåŸºäº **Cloudflare Workers + KV** æ­å»ºçš„æç®€è®°äº‹æœ¬åº”ç”¨ï¼Œæ”¯æŒå¤šè¯­è¨€æ–‡ä»¶åã€è‡ªåŠ¨ä¿å­˜ã€ç›®å½•æµè§ˆã€æ—¶é—´æˆ³è®°å½•ï¼Œå¹¶ä¸”å¯¹ç§»åŠ¨ç«¯ä¼˜åŒ–ã€‚

---

## âœ¨ åŠŸèƒ½ç‰¹ç‚¹

- ğŸŒ **æ”¯æŒå¤šè¯­è¨€æ–‡ä»¶å**  
  ç›´æ¥é€šè¿‡ `/ä½ å¥½`ã€`/ãƒ¡ãƒ¢`ã€`/Ğ·Ğ°Ğ¿Ğ¸ÑĞºĞ°` ç­‰è·¯å¾„è®¿é—®ç¬”è®°ã€‚  

- ğŸ“ **åœ¨çº¿ç¼–è¾‘ & è‡ªåŠ¨ä¿å­˜**  
  é¡µé¢æä¾›ç¼–è¾‘æ¡†ï¼Œç‚¹å‡»ä¿å­˜å³å¯å†™å…¥ KVã€‚
  - è‡ªåŠ¨ä¿å­˜ï¼ˆæ¯ 5 ç§’ä¸€æ¬¡ï¼Œæ— æç¤ºï¼‰
  - æ‰‹åŠ¨ä¿å­˜æŒ‰é’®ï¼ˆç‚¹å‡»æ˜¾ç¤ºâ€œå·²ä¿å­˜â€æç¤ºï¼‰

- ğŸ“‚ **ç›®å½•æµè§ˆ**  
  é¦–é¡µè‡ªåŠ¨åˆ—å‡ºæ‰€æœ‰ç¬”è®°ï¼Œæ˜¾ç¤ºæ–‡ä»¶åã€åˆ›å»ºæ—¶é—´å’Œæ›´æ–°æ—¶é—´ã€‚
  - ç›®å½•é¡µæ˜¾ç¤ºåˆ›å»ºæ—¶é—´ä¸æœ€åæ›´æ–°æ—¶é—´ï¼ˆæµè§ˆå™¨æœ¬åœ°æ—¶é—´ï¼‰

- â° **æ—¶é—´æˆ³è®°å½•**  
  æ¯ä¸ªç¬”è®°ä¿å­˜ `created_at` å’Œ `updated_at`ï¼Œä¾¿äºè¿½è¸ªç¬”è®°å†å²ã€‚  

- ğŸ“± **ç§»åŠ¨ç«¯é€‚é…**  
  å­—ä½“æ›´å¤§ï¼Œé—´è·åˆç†ï¼ŒæŒ‰é’®æ˜“äºç‚¹å‡»ã€‚
  - å®‰å“/iOS ç³»ç»Ÿå›¾æ ‡ä¸ä¼šç”Ÿæˆç›®å½•é¡¹

- ğŸ” **åŸå§‹å†…å®¹è¾“å‡º**  
  åœ¨ URL ååŠ  `?raw` å¯è¿”å›çº¯æ–‡æœ¬å†…å®¹ï¼Œæ–¹ä¾¿ curl/wget æˆ–å…¶ä»–å·¥å…·è¯»å–ã€‚  

---

## ğŸš€ éƒ¨ç½²æ–¹æ³•

### 1. åˆ›å»º KV Namespace
1. ç™»å½• [Cloudflare Dashboard](https://dash.cloudflare.com)  
2. è¿›å…¥ **Workers & Pages â†’ KV â†’ Create namespace**  
3. å‘½åä¸º `notes_kv_example`ï¼ˆæˆ–è€…ä»»æ„åç§°ï¼‰  
> âš ï¸ `notes_kv_example` æ˜¯ç¤ºä¾‹åç§°ï¼Œä½ å¯ä»¥åˆ›å»ºè‡ªå·±çš„ KV å¹¶ç»‘å®šåˆ° `NOTES_KV`ã€‚
### 2. åˆ›å»º Worker
1. è¿›å…¥ **Workers & Pages â†’ Create Application â†’ Create Worker**  
2. å°†ä»“åº“ä¸­çš„ `index.js` ä»£ç ç²˜è´´åˆ°ç¼–è¾‘å™¨ä¸­  
3. åœ¨ **Settings â†’ Variables and Bindings â†’ KV Namespace Bindings** æ·»åŠ ç»‘å®šï¼š  
   - **Variable name**: `NOTES_KV`  
   - **Namespace**: é€‰æ‹©åˆšåˆšåˆ›å»ºçš„ KV  

### 3. ä¿å­˜å¹¶éƒ¨ç½²
ç‚¹å‡» **Save and Deploy**ï¼ŒCloudflare ä¼šä¸ºä½ åˆ†é…ä¸€ä¸ªæµ‹è¯•åŸŸåï¼Œä¾‹å¦‚ï¼š  
https://your-worker.your-subdomain.workers.dev

### 4. ä½¿ç”¨
- è®¿é—®æ ¹ç›®å½• `/` æŸ¥çœ‹ç¬”è®°åˆ—è¡¨  
- è®¿é—® `/ä½ å¥½` åˆ›å»ºæˆ–ç¼–è¾‘ç¬”è®°  
- è®¿é—® `/ä½ å¥½?raw` ä»¥çº¯æ–‡æœ¬æ–¹å¼è¾“å‡ºå†…å®¹  

---

## ğŸ› ï¸ æœ¬åœ°å¼€å‘ï¼ˆå¯é€‰ï¼‰

1. å®‰è£… Wranglerï¼šnpm install -g wrangler
2. ç™»å½•ï¼šwrangler login
3. åˆå§‹åŒ–é¡¹ç›®ï¼šwrangler init notes-worker
4. å°† `index.js` è¦†ç›–åˆ°é¡¹ç›®æ–‡ä»¶å¤¹ä¸­ï¼Œç¼–è¾‘ `wrangler.toml`ï¼šname = "notes-worker", main = "index.js", compatibility_date = "2025-09-12", [[kv_namespaces]] binding = "NOTES_KV", id = "<ä½ çš„ KV Namespace ID>"
5. éƒ¨ç½²ï¼šwrangler publish

## ä½¿ç”¨æ–¹æ³•
- é¦–é¡µæ˜¾ç¤ºç¬”è®°ç›®å½•
- ç‚¹å‡»ç¬”è®°åè¿›å…¥ç¼–è¾‘é¡µ
- ç¼–è¾‘é¡µæ¯ 5 ç§’è‡ªåŠ¨ä¿å­˜ï¼ˆä¸å¼¹æç¤ºï¼‰
- ç‚¹å‡» ğŸ’¾ æŒ‰é’®å¯æ‰‹åŠ¨ä¿å­˜å¹¶æ˜¾ç¤ºâ€œå·²ä¿å­˜â€æç¤º
- æ–°å»ºç¬”è®°å¯é€šè¿‡éšæœºç”Ÿæˆé“¾æ¥æˆ–æ‰‹åŠ¨åœ¨ URL åè¾“å…¥ç¬”è®°å
- è®¿é—®æ ¹ç›®å½• `/` æŸ¥çœ‹ç¬”è®°åˆ—è¡¨  
- è®¿é—® `/ä½ å¥½` åˆ›å»ºæˆ–ç¼–è¾‘ç¬”è®°  
- è®¿é—® `/ä½ å¥½?raw` ä»¥çº¯æ–‡æœ¬æ–¹å¼è¾“å‡ºå†…å®¹  
## ä¸€é”®éƒ¨ç½²
[![Deploy to Cloudflare Workers](https://img.shields.io/badge/Deploy-Cloudflare%20Workers-brightgreen)](https://deploy.workers.cloudflare.com/?url=https://github.com/linaut/Cloudflare-notepad)
> âš ï¸ ç‚¹å‡»ä¸€é”®éƒ¨ç½²åï¼Œè¯·åœ¨ Cloudflare é¡µé¢ç»‘å®š KVï¼ˆNOTES_KVï¼‰åå³å¯ä½¿ç”¨

## æˆªå›¾ç¤ºä¾‹
| ç›®å½•é¡µ                                                         | ç¼–è¾‘é¡µ                                                    |
| ----------------------------------------------------------- | ------------------------------------------------------ |
| ![ç›®å½•é¡µ](https://github.com/user-attachments/assets/b7b747c5-c997-48f4-81d9-340ab5b7dd23) | ![ç¼–è¾‘é¡µ](https://github.com/user-attachments/assets/9f3613bd-b7c8-401f-b165-a10ad5735fb3) |





